
function makeInputs(data) {
  var alphabetsContainer = $('all-alphabets');
  var alphabetGlobalNum = 0;
  jQuery.each(data, function(groupNum, group) {
    var curAlphabetSet = $(document.createElement('div'))
      .attr('id', 'alphabet-set-' + groupNum)
      .attr('name', 'alphabet-set-' + groupNum)
      .addClass('alphabet-set');
    var curAlphabetSetTraining = $(document.createElement('div'))
      .attr('id', 'alphabet-set-training' + groupNum)
      .attr('name', 'alphabet-set-training' + groupNum)
      .addClass('alphabet-set');
      
    // Making questions
    var askImages = group['ask_for'];
    var questionCount = askImages.length;
    var curAlphabetSetQuestions = $(''); // empty jQuery list, hopefully?
    var curAlphabetSetQuestionSelects = $('');
    for (var questionNum = 0; questionNum < questionCount; questionNum++) {
      var curAlphabetSetQuestion = $(document.createElement('div'))
        .attr('id', 'alphabet-group-' + groupNum + '-question-box-' + questionNum)
        .attr('name', 'alphabet-group-' + groupNum + '-question-box-' + questionNum)
        .addClass('alphabet-set');
      var curAlphabetSetDropDownHolder = $(document.createElement('span'))
        .attr('id', 'alphabet-group-' + groupNum + '-drop-down-holder-' + questionNum)
        .attr('name', 'alphabet-group-' + groupNum + '-drop-down-holder-' + questionNum);
      var curLabel = $(document.createElement('label'));
      var questionImageHolder = $(document.createElement('span'))
        .attr('id', 'alphabet-group-' + groupNum + '-image-holder-' + questionNum)
        .attr('name', 'alphabet-group-' + groupNum + '-image-holder-' + questionNum)
        .addClass('alphabet-group-' + groupNum + '-draggable');
      var questionImage = $(document.createElement('img'))
        .attr('id', 'alphabet-group-' + groupNum + '-image-' + questionNum)
        .attr('name', 'alphabet-group-' + groupNum + '-image-' + questionNum)
        .attr('align', 'absmiddle')
        .attr('alt', 'Test image ' + (questionNum + 1) + ' for alphabet group ' + (groupNum + 1) + '.');
      var questionSelect = $(document.createElement('select'))
        .attr('name', 'alphabet_group_' + groupNum + '_number_test_' + questionNum)
        .attr('id', 'alphabet_group_' + groupNum + '_number_test_' + questionNum);
      curAlphabetSetQuestionSelects.add(questionSelect);
      
      questionImageHolder.append(questionImage);
      curLabel
      curAlphabetSetQuestions.add(curAlphabetSetQuestion);
    }
    curAlphabetSetQuestionSelects
      
    // Making questions
    
    var curAlphabetSetDropDownLabel
               name="alphabet-group-0-drop-down-holder"><label>I think <span id="alphabet-group-0-image-holder"
                name="alphabet-group-0-image-holder"
                class="alphabet-group-0-draggable"><img src="../results/accepted-images/cyrillic/cyrillic_04_a3stxecewj2ykp.png"
               alt="Test image 1 for alphabet group 0."
               id="alphabet-group-0-image"
               name="alphabet-group-0-image"
               align="absmiddle" /></span> is most likely to be from alphabet <select name="alphabet_group_0_number"
                  id="alphabet_group_0_number">
            <option value="0">
              1
            </option>

            <option value="1">
              2
            </option>

            <option value="2">
              3
            </option>

            <option value="3">
              4
            </option>

            <option value="4">
              5
            </option>

            <option value="5">
              6
            </option>

            <option value="6">
              7
            </option>

            <option value="7">
              8
            </option>

            <option value="8">
              9
            </option>

            <option value="9">
              10
            </option>
          </select> .</label></span>
        </div>

    
    // Making training      
      
    var centerElement = $(document.createElement('center'));
    var alphabetTable = $(document.createElement('table'))
      .attr('id', 'alphabet-table-' + groupNum)
      .attr('name', 'alphabet-table-' + groupNum)
      .attr('border', 1);
    var tableHead = $(document.createElement('thead'))
    var tableHeadRow = $(document.createElement('tr'));
    var tableBody = $(document.createElement('tbody'));
    var tableMainRow = $(document.createElement('tr'));
    
    var alphabetIds = group['alphabets'].keys();
    var alphabetGroupLength = alphabetIds.length;
    var alphabet; 
    for (var alphabetNum = 0; alphabetNum < alphabetGroupLength; alphabetNum++) {
      alphabetGlobalNum++;
      alphabetId = alphabetIds[alphabetNum];
      imagesList = group['alphabets'][alphabetId];
      tableHeadRow.append($(document.createElement('th')).append('Alphabet ' + alphabetGlobalNum));
      var tableMainCell = $(document.createElement('td'));
      var imageHolder = $(document.createElement('div'))
        .attr('id', 'alphabet-' + (alphabetGlobalNum - 1) + '-col')
        .attr('name', 'alphabet-' + (alphabetGlobalNum - 1) + '-col')
        .addClass('alphabet-image-holder dragoverable')
        .addClass('alphabet-group-' + groupNum + '-droppable');
      for (var imageNum = 0; imageNum < imagesList.length; imageNum++) {
        var image = $(document.createElement('img')
          .attr('src', '../' + imagesList[imageNum])
          .attr('alt', 'Training image ' + (imageNum + 1) + ' for alphabet ' + alphabetGlobalNum + ' in group ' + (groupNum + 1) + '.');
        imageHolder.append(image);
      }
      tableMainCell.append(imageHolder);
      tableMainRow.append(tableMainCell);
    }
    tableBody.append(tableMainRow);
    tableHead.append(tableHeadRow);
    alphabetTable.append(tableHead).append(tableBody);
    centerElement.append(alphabetTable);
    curAlphabetSetTraining.append(centerElement);
    curAlphabetSet.append(curAlphabetSetTraining).append(curAlphabetSetQuestions);
    
    
    
    alphabetsContainer.append(curAlphabetSet);
  });
}

$(function () {
    $.getJSON("../scripts/python/alphabets.py", makeInputs);
  });
